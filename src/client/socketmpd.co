#depend "mpd" bare

window.SocketMpd = class SocketMpd extends window.Mpd
  (@socket) ~>
    super()
    @socket.on 'FromMpd', ~> @receive(...)
    @socket.on 'MpdConnect', ~> @handleConnectionStart(...)
    @socket.on 'MpdDisconnect', ~> @resetServerState(...)
    @socket.on 'disconnect', ~> @resetServerState(...)

  send: !(msg) ->
    @socket.emit 'ToMpd', msg
